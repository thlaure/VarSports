{% extends 'base.html.twig' %}

{% block robots %}
<meta name="robots" content="noindex, nofollow">
{% endblock %}

{% block stylesheets %}
{{ parent() }}
<link rel="stylesheet" href="https://cdn.ckeditor.com/ckeditor5/42.0.2/ckeditor5.css">
{% endblock %}

{% block javascripts %}
{{ parent() }}
<script type="importmap">
    {
        "imports": {
            "ckeditor5": "https://cdn.ckeditor.com/ckeditor5/42.0.2/ckeditor5.js",
            "ckeditor5/": "https://cdn.ckeditor.com/ckeditor5/42.0.2/"
        }
    }
</script>

<script src="{{ asset('js/select2.js') }}" defer></script>
<script type="module" src="{{ asset('js/ckeditor-config.js') }}" defer></script>
{% endblock %}

{% block title %} | Admin - {{ title }}{% endblock %}

{% block body %}
<div class="container my-5">
    <section>
        <h1 class="h3 mb-3 font-weight-normal">{{ title }}</h1>

        {% include 'partials/flash.html.twig' %}

        {{ form_start(form, {'attr': {'aria-labelledby': 'form-title'}}) }}
            <fieldset>
                <legend id="form-title" class="visually-hidden">Form for {{ title }}</legend>
                
                <div class="row">
                    <div class="col-md-6">
                        {{ form_row(form.name, {'label_attr': {'aria-label': 'Name'}}) }}
                        {{ form_row(form.email, {'label_attr': {'aria-label': 'Email'}}) }}
                        {{ form_row(form.phone, {'label_attr': {'aria-label': 'Phone'}}) }}
                        {{ form_row(form.address, {'label_attr': {'aria-label': 'Address'}}) }}
                        {{ form_row(form.addressComplement, {'label_attr': {'aria-label': 'Address Complement'}}) }}
                        {{ form_row(form.city.postalCode, {'label_attr': {'aria-label': 'City Postal Code'}}) }}
                        {{ form_row(form.city.name, {'label_attr': {'aria-label': 'City Name'}}) }}
                        {{ form_row(form.description, {'label_attr': {'aria-label': 'Description'}}) }}
                    </div>

                    <div class="col-md-6">
                        {{ form_row(form.disciplines, {'attr': {'class': 'select2-autocomplete'}, 'label_attr': {'aria-label': 'Disciplines'}}) }}
                        {{ form_row(form.logo, {'label_attr': {'aria-label': 'Logo'}}) }}
                        {{ form_row(form.coverImage, {'label_attr': {'aria-label': 'Cover Image'}}) }}
                        {{ form_row(form.website, {'label_attr': {'aria-label': 'Website'}}) }}
                        {{ form_row(form.instagram, {'label_attr': {'aria-label': 'Instagram'}}) }}
                        {{ form_row(form.facebook, {'label_attr': {'aria-label': 'Facebook'}}) }}
                        {{ form_row(form.youtube, {'label_attr': {'aria-label': 'YouTube'}}) }}

                        {% if is_granted('ROLE_ADMIN') %}
                            {{ form_row(form.admin_email, {'label_attr': {'aria-label': 'Admin Email'}, 'attr': {'required': true}}) }}
                        {% endif %}
                    </div>
                </div>

                {{ form_row(form.submit, {'attr': {'aria-label': 'Cr√©er le club'}}) }}
            </fieldset>
        {{ form_end(form) }}
    </section>
</div>
{% endblock %}
